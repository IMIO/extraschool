<?xml version="1.0" ?>
<openerp>
	<data> 
        <record model="ir.ui.view" id="extraschool_parent_tree">
			<field name="name">extraschool.parent.tree</field>
			<field name="model">extraschool.parent</field>
			<field name="type">tree</field>
			<field name="arch" type="xml">
				<tree string="Parent">
                    <field name="lastname"/> 
                    <field name="firstname"/>
                    <field name="zipcode"/>			
                    <field name="email"/>
   				</tree>
			</field>
		</record>
        
        <record model="ir.ui.view" id="extraschool_parent_form">
            <field name="name">extraschool.parent.form</field>
            <field name="model">extraschool.parent</field>    
            <field name="type">form</field>
            <field name="arch" type="xml">
            <form string="Parents">
                <notebook>
                <page string="Contact">
                    <group col="4">        
                    <field name="name" invisible="True"/>
                    <field name="streetcode" invisible="True"/>
                    <field name="lastname" on_change="onchange_name(lastname,firstname)"/> 
                    <field name="firstname" on_change="onchange_name(lastname,firstname)"/>        
                    <newline/>
                    <field name="street" on_change="onchange_address(street,city)"/>
                    <newline/>
                    <field name="zipcode"/>        
                    <field name="city" on_change="onchange_address(street,city)"/>
                    <newline/>
                    <field name="housephone"/>
                    <field name="workphone"/>
                    <newline/>
                    <field name="gsm"/>
                    <field name="email"/>
                    <newline/>
                    <field name="invoicesendmethod"/>
                    <newline/>
                    <field name="remindersendmethod"/>
                    <newline/>
                    </group>
                </page>
                <page string="Childs">
                    <group col="4">
                    <field name="child_ids" nolabel="1"/>
                    </group>
                </page>
                <page string="Invoices">
                    <group col="4">
                    <field name="totalinvoiced"/>
                    <newline/>
                    <field name="totalreceived"/>
                    <newline/>
                    <field name="totalbalance"/>
                    <newline/>
                    <field name="invoice_ids">
                    <tree string="Invoices" version="7.0">
                        <field name="activitycategoryid"/>
                        <field name="period_from"/>
                        <field name="period_to"/>
                        <field name="payment_term"/>
                        <field name="amount_total"/>
                        <field name="amount_received"/>
                        <field name="balance"/>
                        <field name="no_value"/>
                    </tree>
                    </field>
                    </group>
                </page>
                <page string="Reminders">
                    <group col="4">
                    <field name="reminder_ids" nolabel="1">
                    <tree string="Reminders" version="7.0">
                        <field name="activitycategoryid"/>
                        <field name="transmissiondate"/>
                        <field name="term"/>
                        <field name="amount"/>
                    </tree>
                    </field>
                    </group>
                </page>
                </notebook>
                <!-- button name="return_action_to_open" type="object" context="{'xml_id':'action_extraschool_invoices'}" string="invoices" / -->
            </form>
            </field> 
        </record>
                <record model="ir.actions.act_window" id="action_lbsc_parent_invoices">
            <field name="name">Parent invoices</field>
            <field name="res_model">extraschool.invoice</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree, form</field>
        </record>

        <record model="ir.actions.act_window" id="action_extraschool_parent">
            <field name="name">Parent</field>
            <field name="res_model">extraschool.parent</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree, form</field>
            <field name="view_id" ref="extraschool_parent_tree"/>
        </record>
        
        <record model="ir.actions.act_window.view" id="action_extraschool_parent_form">
			<field name="name">Parent</field>
            <field eval="2" name="sequence"/>
			<field name="res_model">extraschool.parent</field>
            <field name="view_mode">form</field>
            <field name="view_id" ref="extraschool_parent_form" />   
            <field name="act_window_id" ref="action_extraschool_parent" /> 
		</record> 
        
        <record model="ir.actions.act_window.view" id="action_extraschool_parent_tree">
			<field name="name">Parent</field>
            <field eval="1" name="sequence"/>
			<field name="res_model">extraschool.parent</field>
            <field name="view_mode">tree</field>
            <field name="view_id" ref="extraschool_parent_tree" />  
            <field name="act_window_id" ref="action_extraschool_parent" /> 
		</record>
	</data>
</openerp>
