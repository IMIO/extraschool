<?xml version="1.0" ?>
<openerp>
	<data> 
        <record model="ir.ui.view" id="extraschool_guardianprestationtimes_wizard_form">
            <field name="name">extraschool.guardianprestationtimes.wizard.form</field>
            <field name="model">extraschool.guardianprestationtimes_wizard</field>
            <field name="type">form</field>
            <field name="arch" type="xml">
                <form string="Guardian Prestation Times Wizard">
                    <field name="state" invisible="1" />
                    <group states="init">
                        <field name="guardianid" />
                        <newline />
                        <field name="prestations_from" />
                        <newline />
                        <field name="prestations_to" />
                    </group>
                    <group states="compute_guardianprestationtimes">
                        <field name="name" invisible="1" colspan="4"/>
                        <field name="prestationsreport" nolabel="1" readonly="1" filename="name" colspan="4"/>
                        <label string="Ok" />
                    </group>
                    <separator string="" colspan="4"/>
                    <group colspan="4" col="3">
                        <button name="action_compute_guardianprestationtimes" string="Compute prestations report" icon="gtk-apply" type="object"
                            states="init" />
                    </group>
                    <label string="" colspan="4" />
                    <label string="" colspan="4" />
                    <label string="" colspan="4" />
                </form>
            </field>
        </record>
        <record model="ir.actions.act_window" id="action_lbsc_guardianprestationtimes_wizard">
            <field name="name">Guardian Prestation Times Wizard</field>
            <field name="type">ir.actions.act_window</field>
            <field name="res_model">extraschool.guardianprestationtimes_wizard</field>
            <field name="view_type">form</field>
            <field name="view_mode">form</field>
            <field name="target">inline</field>
        </record>

         <record model="ir.ui.view" id="extraschool_guardian_prestationtimes_form">
            <field name="name">extraschool.guardian_prestationtimes.form</field>
            <field name="model">extraschool.guardianprestationtimes</field>    
            <field name="type">form</field>
            <field name="arch" type="xml">
	            <form string="Guardian">
					<group col="4">
		            	<field name="guardianid"/>
		                <field name="prestation_date"/>
		                <field name="prestation_time"  widget="float_time"/>
		                <field name="es"/>
					</group>
		       </form>
            </field> 
        </record>
                        
         <record model="ir.ui.view" id="extraschool_guardian_prestationtimes_tree">
            <field name="name">extraschool.guardian_prestationtimes.tree</field>
            <field name="model">extraschool.guardianprestationtimes</field>    
            <field name="type">tree</field>
            <field name="arch" type="xml">
	            <tree string="Guardian">
		            	<field name="guardianid"/>
		                <field name="prestation_date"/>
		                <field name="prestation_time"  widget="float_time"/>
		                <field name="es"/>                		                	
	            </tree>
            </field> 
        </record>        

        <record id="extraschool_guardian_prestationtime_search_view" model="ir.ui.view">
            <field name="name">extraschool.guardian_prestationtimes.search</field>
            <field name="model">extraschool.guardianprestationtimes</field>
            <field name="arch" type="xml">
                <search string="Guardian prestationtimes Search">
                   <field name="guardianid"/>            
                   <field name="prestation_date"/>
                   <group  expand='0' string='Group by...'>
                       <filter string='Guardian' icon="terp-stock_symbol-selection" domain="[]" context="{'group_by' : 'guardianid'}"/>
                       <filter string='Date' icon="terp-stock_symbol-selection" domain="[]" context="{'group_by' : 'prestation_date'}"/>
                   </group>                    
                </search>
            </field>
        </record>
        
		<record model="ir.actions.act_window" id="action_extraschool_prestationtimes">
			<field name="name">Guardian prestationtimes</field>
			<field name="res_model">extraschool.guardianprestationtimes</field>
			<field name="view_type">form</field>
      	</record> 
		                
         <record model="ir.ui.view" id="extraschool_guardian_prestationtimes_report_form">
            <field name="name">extraschool.guardian_prestationtimes_report.form</field>
            <field name="model">extraschool.guardian_prestation_times_report</field>    
            <field name="type">form</field>
            <field name="arch" type="xml">
	            <form string="Guardian">
					<group col="4">
		            	<field name="guardian_id"/>
		                <field name="prestation_date"/>
		                <field name="week"/>
		                <field name="duration" widget="float_time"/>
		                <field name="weekly_schedule" widget="float_time"/>
		                <field name="solde" widget="float_time"/>	                		                	
					</group>
		       </form>
            </field> 
        </record>
                                
         <record model="ir.ui.view" id="extraschool_guardian_prestationtimes_report_tree">
            <field name="name">extraschool.guardian_prestationtimes_report.tree</field>
            <field name="model">extraschool.guardian_prestation_times_report</field>    
            <field name="type">tree</field>
            <field name="arch" type="xml">
	            <tree string="Guardian">
	                <field name="guardian_id"/>
	                <field name="prestation_date"/>
	                <field name="week"/>
	                <field name="duration" widget="float_time"/>
	                <field name="weekly_schedule" widget="float_time"/>
	                <field name="solde" widget="float_time"/>	                		                	
	            </tree>
            </field> 
        </record>

       <record id="extraschool_guardian_prestationtime_report_graph" model="ir.ui.view">
            <field name="name">extraschool.guardian_prestationtimes_report.graph</field>
            <field name="model">extraschool.guardian_prestation_times_report</field>
            <field name="arch" type="xml">
                <graph string="Guardian" type="bar">
                     <field name="guardian_id" type="row"/>
                     <field name="week" type="col"/>
                     <field name="solde" type="measure"/>
                 </graph>
             </field>
        </record>
        
         <record id="extraschool_guardian_prestationtime_report_search_view" model="ir.ui.view">
            <field name="name">extraschool.guardian_prestationtimes_report.search</field>
            <field name="model">extraschool.guardian_prestation_times_report</field>
            <field name="arch" type="xml">
                <search string="Guardian prestationtimes Search">
                   <field name="guardian_id"/>            
                   <field name="week"/>
                   <group  expand='0' string='Group by...'>
                       <filter string='Guardian' icon="terp-stock_symbol-selection" domain="[]" context="{'group_by' : 'guardian_id'}"/>
                       <filter string='Week' icon="terp-stock_symbol-selection" domain="[]" context="{'group_by' : 'week'}"/>
                   </group>                    
                </search>
            </field>
        </record>
                       
        <record model="ir.actions.act_window" id="action_guardianprestationtimes_report">
			<field name="name">Guardian Report</field>
			<field name="res_model">extraschool.guardian_prestation_times_report</field>
			<field name="view_type">form</field>
			<field name="view_mode">tree,graph</field>
            <field name="view_id" ref="extraschool_guardian_prestationtimes_report_tree"/>
		</record>
				       
	</data>
</openerp>
