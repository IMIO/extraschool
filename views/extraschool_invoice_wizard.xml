<?xml version="1.0" ?>
<odoo>
    <data>
        <record model="ir.ui.view" id="extraschool_invoice_wizard_form">
            <field name="name">extraschool.invoice.wizard.form</field>
            <field name="model">extraschool.invoice_wizard</field>
            <field name="type">form</field>
            <field name="arch" type="xml">
                <form string="invoice Wizard">
                    <sheet>
                        <div class="alert alert-info text-center col-2"
                             attrs="{'invisible':[('can_invoice', '=', True)]}">
                            Facturation en cours
                        </div>
                        <div class="progress" attrs="{'invisible':[('can_invoice', '=', True)]}">
                            <div class="progress-bar progress-bar-striped active" role="progressbar" aria-valuenow="45"
                                 aria-valuemin="0" aria-valuemax="100" style="width: 45%">
                                <!--                                <span class="sr-only">45% Complete</span>-->
                            </div>
                        </div>
                        <div class="alert alert-info text-center col-2"
                             attrs="{'invisible':['|', ('warning_visibility', '=', False),('can_invoice', '=', False)]}">
                            Attention, il y a un ou plusieurs smartphone(s) qui n'a / n'ont pas transmis. Vérifier avant
                            de générer votre facturier !
                        </div>
                        <div class="alert alert-danger" attrs="{'invisible':[('check_manual', '=', True)]}">
                            Il y a au moins un <b>encodage manuel</b> non vérifié pour cette période
                        </div>
                        <div class="alert alert-danger" attrs="{'invisible':[('check_registration', '=', True)]}">
                            Il y a au moins une <b>fiche d'inscription</b> non validée pour cette période
                        </div>
                        <div class="alert alert-danger" attrs="{'invisible':[('check_prestation', '=', True)]}">
                            Il y a au moins une <b>présence</b> non vérifiée pour cette période
                        </div>
                        <div class="alert alert-warning" attrs="{'invisible':[('check_invoice', '=', True)]}">
                            Il n'y a pas de présences à facturer pour cette période
                        </div>
                        <field name="last_biller" invisible="1"/>
                        <field name="state" invisible="1"/>
                        <field name="check_manual" invisible="1"/>
                        <field name="check_registration" invisible="1"/>
                        <field name="check_prestation" invisible="1"/>
                        <field name="check_invoice" invisible="1"/>
                        <field name="warning_visibility" invisible="1"/>
                        <field name="can_invoice" invisible="1"/>
                        <group states="init">
                            <field name="schoolimplantationid" invisible="1"/>
                            <newline/>
                            <field name="activitycategory" widget="many2many_tags" options="{'no_create':True}" attrs="{'invisible':[('can_invoice', '=', False)]}"/>
                            <newline/>
                            <field name="generate_pdf" attrs="{'invisible':[('can_invoice', '=', False)]}"/>
                            <newline/>
                            <field name="period_from" attrs="{'invisible':[('can_invoice', '=', False)]}"/>
                            <field name="period_to" attrs="{'invisible':[('can_invoice', '=', False)]}"/>
                            <newline/>
                            <field name="invoice_date" attrs="{'invisible':[('can_invoice', '=', False)]}"/>
                            <field name="invoice_term" attrs="{'invisible':[('can_invoice', '=', False)]}"/>
                        </group>
                        <group states="compute_invoices">
                            <field name="name" invisible="1" colspan="4"/>
                            <field name="invoices" nolabel="1" readonly="1" filename="name" colspan="4"/>
                            <label string="Ok"/>
                        </group>
                        <separator string="" colspan="4"/>
                        <group colspan="4" col="3" attrs="{'invisible':[('can_invoice', '=', False)]}">
                            <button name="action_compute_invoices" string="Compute invoices" icon="gtk-apply"
                                    type="object"
                                    states="init"
                            />
                        </group>
                        <label string="" colspan="4"/>
                        <label string="" colspan="4"/>
                        <label string="" colspan="4"/>
                    </sheet>
                </form>
            </field>
        </record>
        <record model="ir.actions.act_window" id="action_lbsc_invoice_wizard">
            <field name="name">invoice Wizard</field>
            <field name="type">ir.actions.act_window</field>
            <field name="res_model">extraschool.invoice_wizard</field>
            <field name="view_type">form</field>
            <field name="view_mode">form</field>
            <field name="target">inline</field>
        </record>
    </data>
</odoo>
